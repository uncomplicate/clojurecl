<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>uncomplicate.clojurecl.core documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Clojurecl</span> <span class="project-version">0.9.0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>uncomplicate</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clojurecl</span></div></div></li><li class="depth-3 branch"><a href="uncomplicate.clojurecl.constants.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>constants</span></div></a></li><li class="depth-3 branch current"><a href="uncomplicate.clojurecl.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-3 branch"><a href="uncomplicate.clojurecl.info.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>info</span></div></a></li><li class="depth-3 branch"><a href="uncomplicate.clojurecl.legacy.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>legacy</span></div></a></li><li class="depth-3 branch"><a href="uncomplicate.clojurecl.toolbox.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>toolbox</span></div></a></li><li class="depth-3"><a href="uncomplicate.clojurecl.utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>utils</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-*command-queue*"><div class="inner"><span>*command-queue*</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-*context*"><div class="inner"><span>*context*</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-*platform*"><div class="inner"><span>*platform*</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-Argument"><div class="inner"><span>Argument</span></div></a></li><li class="depth-2"><a href="uncomplicate.clojurecl.core.html#var-set-arg"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>set-arg</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-build-program.21"><div class="inner"><span>build-program!</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-cl-buffer"><div class="inner"><span>cl-buffer</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-cl-buffer*"><div class="inner"><span>cl-buffer*</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-cl-buffer.3F"><div class="inner"><span>cl-buffer?</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-cl-sub-buffer"><div class="inner"><span>cl-sub-buffer</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-cl-sub-buffer*"><div class="inner"><span>cl-sub-buffer*</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-CLMem"><div class="inner"><span>CLMem</span></div></a></li><li class="depth-2 branch"><a href="uncomplicate.clojurecl.core.html#var-cl-mem"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cl-mem</span></div></a></li><li class="depth-2 branch"><a href="uncomplicate.clojurecl.core.html#var-enq-copy*"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>enq-copy*</span></div></a></li><li class="depth-2"><a href="uncomplicate.clojurecl.core.html#var-enq-fill*"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>enq-fill*</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-command-queue"><div class="inner"><span>command-queue</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-command-queue*"><div class="inner"><span>command-queue*</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-context"><div class="inner"><span>context</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-context*"><div class="inner"><span>context*</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-context-info"><div class="inner"><span>context-info</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-context-properties"><div class="inner"><span>context-properties</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-Contextual"><div class="inner"><span>Contextual</span></div></a></li><li class="depth-2"><a href="uncomplicate.clojurecl.core.html#var-cl-context"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cl-context</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-devices"><div class="inner"><span>devices</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-devices*"><div class="inner"><span>devices*</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-enq-barrier.21"><div class="inner"><span>enq-barrier!</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-enq-copy.21"><div class="inner"><span>enq-copy!</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-enq-fill.21"><div class="inner"><span>enq-fill!</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-enq-map-buffer.21"><div class="inner"><span>enq-map-buffer!</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-enq-map-buffer*"><div class="inner"><span>enq-map-buffer*</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-enq-marker.21"><div class="inner"><span>enq-marker!</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-enq-nd.21"><div class="inner"><span>enq-nd!</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-enq-read.21"><div class="inner"><span>enq-read!</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-enq-svm-map.21"><div class="inner"><span>enq-svm-map!</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-enq-svm-map*"><div class="inner"><span>enq-svm-map*</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-enq-svm-unmap.21"><div class="inner"><span>enq-svm-unmap!</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-enq-unmap.21"><div class="inner"><span>enq-unmap!</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-enq-write.21"><div class="inner"><span>enq-write!</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-event"><div class="inner"><span>event</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-event-callback"><div class="inner"><span>event-callback</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-events"><div class="inner"><span>events</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-finish.21"><div class="inner"><span>finish!</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-flush.21"><div class="inner"><span>flush!</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-host-event"><div class="inner"><span>host-event</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-kernel"><div class="inner"><span>kernel</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-legacy.3F"><div class="inner"><span>legacy?</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-Mem"><div class="inner"><span>Mem</span></div></a></li><li class="depth-2 branch"><a href="uncomplicate.clojurecl.core.html#var-ptr"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ptr</span></div></a></li><li class="depth-2"><a href="uncomplicate.clojurecl.core.html#var-size"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>size</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-native-pointer"><div class="inner"><span>native-pointer</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-num-devices"><div class="inner"><span>num-devices</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-num-devices*"><div class="inner"><span>num-devices*</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-num-kernels"><div class="inner"><span>num-kernels</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-num-platforms"><div class="inner"><span>num-platforms</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-platform-info"><div class="inner"><span>platform-info</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-platforms"><div class="inner"><span>platforms</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-program-with-source"><div class="inner"><span>program-with-source</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-register"><div class="inner"><span>register</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-set-arg.21"><div class="inner"><span>set-arg!</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-set-args.21"><div class="inner"><span>set-args!</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-set-event-callback*"><div class="inner"><span>set-event-callback*</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-set-status.21"><div class="inner"><span>set-status!</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-sort-by-cl-version"><div class="inner"><span>sort-by-cl-version</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-svm-buffer"><div class="inner"><span>svm-buffer</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-svm-buffer*"><div class="inner"><span>svm-buffer*</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-svm-buffer.3F"><div class="inner"><span>svm-buffer?</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-SVMMem"><div class="inner"><span>SVMMem</span></div></a></li><li class="depth-2 branch"><a href="uncomplicate.clojurecl.core.html#var-byte-buffer"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>byte-buffer</span></div></a></li><li class="depth-2"><a href="uncomplicate.clojurecl.core.html#var-enq-svm-copy"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>enq-svm-copy</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-with-context"><div class="inner"><span>with-context</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-with-default"><div class="inner"><span>with-default</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-with-platform"><div class="inner"><span>with-platform</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-with-queue"><div class="inner"><span>with-queue</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-work-size"><div class="inner"><span>work-size</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-work-size-1d"><div class="inner"><span>work-size-1d</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-work-size-2d"><div class="inner"><span>work-size-2d</span></div></a></li><li class="depth-1"><a href="uncomplicate.clojurecl.core.html#var-work-size-3d"><div class="inner"><span>work-size-3d</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">uncomplicate.clojurecl.core</h1><div class="doc"><div class="markdown"><p>Core ClojureCL functions for OpenCL <strong>host</strong> programming. The kernels should be provided as strings (that may be stored in files), written in OpenCL C.</p>
<p>The OpenCL standard defines several datastructures (platform, device, etc.) that support the concepts defined in four OpenCL models (Platform Model, Memory Model, Execution Model, and Programming Model). ClojureCL uses a low-level JNI-based library <a href="http://www.jocl.org">JOCL</a> for calling native OpenCL drivers - the datastructures are therefore defined in JOCL. They can be found in <a href="http://www.jocl.org/doc/org/jocl/package-tree.html"><code>org.jocl</code></a> package.</p>
<p>Some functions are available in two versions:</p>
<ul>
  <li>High-level, which works with clojure-friendly arguments - vectors, sequences, keywords, etc. These are preferred to low-level alternatives.</li>
  <li>Low-level, suffexed by <code>*</code>, which works with primitive arguments and gives primitive results. These functions are useful when you already have primitive data and want to avoid unnecessary conversions</li>
</ul>
<p>The documentation given here is only a quick reminder; it is necessary to grasp OpenCL and parallel computing concepts to be able to use the library. Also, each function’s doc entry have a link to much more detailed documentation available in OpenCL and JOCL reference - be sure to browse one of these documents wherever you are not sure about some of many important details.</p>
<h3><a href="#cheat-sheet" name="cheat-sheet"></a>Cheat Sheet</h3>
<ul>
  <li>
  <p>resource management: <a href="null">with-release</a> <a href="uncomplicate.clojurecl.core.html#var-with-platform">with-platform</a>, <a href="uncomplicate.clojurecl.core.html#var-with-context">with-context</a>, <a href="uncomplicate.clojurecl.core.html#var-with-queue">with-queue</a>, <a href="uncomplicate.clojurecl.core.html#var-with-default">with-default</a></p></li>
  <li>
  <p><a href="http://www.jocl.org/doc/org/jocl/cl_platform_id.html"><code>cl_platform_id</code></a>: <a href="uncomplicate.clojurecl.core.html#var-num-platforms">num-platforms</a>, <a href="uncomplicate.clojurecl.core.html#var-platforms">platforms</a>, <a href="uncomplicate.clojurecl.core.html#var-platform-info">platform-info</a>, <a href="uncomplicate.clojurecl.core.html#var-with-platform">with-platform</a></p></li>
  <li>
  <p><a href="http://www.jocl.org/doc/org/jocl/cl_device_id.html"><code>cl_device_id</code></a>: <a href="uncomplicate.clojurecl.core.html#var-devices">devices</a>, <a href="uncomplicate.clojurecl.core.html#var-num-devices">num-devices</a>, <a href="uncomplicate.clojurecl.core.html#var-devices*">devices*</a>, <a href="uncomplicate.clojurecl.core.html#var-num-devices*">num-devices*</a></p></li>
  <li>
  <p><a href="http://www.jocl.org/doc/org/jocl/cl_context.html"><code>cl_context</code></a>: <a href="uncomplicate.clojurecl.core.html#var-context">context</a>, <a href="uncomplicate.clojurecl.core.html#var-context-info">context-info</a>, <a href="uncomplicate.clojurecl.core.html#var-with-context">with-context</a>, <a href="uncomplicate.clojurecl.core.html#var-context-properties">context-properties</a>, <a href="uncomplicate.clojurecl.core.html#var-context*">context*</a></p></li>
  <li>
  <p><a href="http://www.jocl.org/doc/org/jocl/cl_mem.html"><code>cl_mem</code></a>: <a href="uncomplicate.clojurecl.core.html#var-cl-buffer">cl-buffer</a>, <a href="uncomplicate.clojurecl.core.html#var-cl-sub-buffer">cl-sub-buffer</a>, <a href="uncomplicate.clojurecl.core.html#var-cl-buffer*">cl-buffer*</a>, <a href="uncomplicate.clojurecl.core.html#var-cl-sub-buffer*">cl-sub-buffer*</a>, <a href="uncomplicate.clojurecl.core.html#var-Mem">Mem</a>, <a href="uncomplicate.clojurecl.core.html#var-CLMem">CLMem</a></p></li>
  <li>
  <p><a href="http://www.jocl.org/doc/org/jocl/cl_event.html"><code>cl_event</code></a>: <a href="uncomplicate.clojurecl.core.html#var-event">event</a>, <a href="uncomplicate.clojurecl.core.html#var-host-event">host-event</a>, <a href="uncomplicate.clojurecl.core.html#var-events">events</a>, <a href="uncomplicate.clojurecl.core.html#var-register">register</a>, <a href="uncomplicate.clojurecl.core.html#var-event-callback">event-callback</a>, <a href="uncomplicate.clojurecl.core.html#var-set-event-callback*">set-event-callback*</a>, <a href="uncomplicate.clojurecl.core.html#var-set-status.21">set-status!</a></p></li>
  <li>
  <p><a href="http://www.jocl.org/doc/org/jocl/cl_program.html"><code>cl_program</code></a>: <a href="uncomplicate.clojurecl.core.html#var-program-with-source">program-with-source</a>, <a href="uncomplicate.clojurecl.core.html#var-build-program.21">build-program!</a></p></li>
  <li>
  <p><a href="http://www.jocl.org/doc/org/jocl/cl_kernel.html"><code>cl_kernel</code></a>: <a href="uncomplicate.clojurecl.core.html#var-num-kernels">num-kernels</a>, <a href="uncomplicate.clojurecl.core.html#var-kernel">kernel</a>, <a href="uncomplicate.clojurecl.core.html#var-set-arg.21">set-arg!</a>, <a href="uncomplicate.clojurecl.core.html#var-set-args.21">set-args!</a>, <a href="uncomplicate.clojurecl.core.html#var-set-arg">set-arg</a></p></li>
  <li>
  <p><a href="http://www.jocl.org/doc/org/jocl/cl_kernel.html"><code>cl_command_queue</code></a>: <a href="uncomplicate.clojurecl.core.html#var-command-queue">command-queue</a>, <a href="uncomplicate.clojurecl.core.html#var-command-queue*">command-queue*</a>, <a href="uncomplicate.clojurecl.core.html#var-work-size">work-size</a>, <a href="uncomplicate.clojurecl.core.html#var-enq-nd.21">enq-nd!</a>, <a href="uncomplicate.clojurecl.core.html#var-enq-read.21">enq-read!</a>, <a href="uncomplicate.clojurecl.core.html#var-enq-write.21">enq-write!</a>, <a href="uncomplicate.clojurecl.core.html#var-enq-copy.21">enq-copy!</a>, <a href="uncomplicate.clojurecl.core.html#var-enq-fill.21">enq-fill!</a> <a href="uncomplicate.clojurecl.core.html#var-enq-map-buffer.21">enq-map-buffer!</a>, <a href="uncomplicate.clojurecl.core.html#var-enq-map-buffer*">enq-map-buffer*</a>, <a href="uncomplicate.clojurecl.core.html#var-enq-unmap.21">enq-unmap!</a>, <a href="uncomplicate.clojurecl.core.html#var-enq-svm-map.21">enq-svm-map!</a>, <a href="uncomplicate.clojurecl.core.html#var-enq-map-buffer*">enq-map-buffer*</a>, <a href="uncomplicate.clojurecl.core.html#var-enq-svm-unmap.21">enq-svm-unmap!</a>, <a href="uncomplicate.clojurecl.core.html#var-enq-marker.21">enq-marker!</a>, <a href="null">enq-wait!</a>, <a href="uncomplicate.clojurecl.core.html#var-enq-barrier.21">enq-barrier!</a>, <a href="uncomplicate.clojurecl.core.html#var-finish.21">finish!</a>, <a href="uncomplicate.clojurecl.core.html#var-flush.21">flush!</a> <a href="uncomplicate.clojurecl.core.html#var-with-queue">with-queue</a></p></li>
</ul></div></div><div class="public anchor" id="var-*command-queue*"><h3>*command-queue*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Dynamic var for binding the default command queue.</p></div></div></div><div class="public anchor" id="var-*context*"><h3>*context*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Dynamic var for binding the default context.</p></div></div></div><div class="public anchor" id="var-*platform*"><h3>*platform*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Dynamic var for binding the default platform.</p></div></div></div><div class="public anchor" id="var-Argument"><h3>Argument</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Object that can be argument in OpenCL kernels. Built-in implementations: <a href="null">CLBuffer</a>, java numbers, primitive arrays and <code>ByteBuffer</code>s.</p></div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-set-arg"><h3>set-arg</h3><div class="usage"><code>(set-arg arg kernel n)</code></div><div class="doc"><div class="markdown"><p>Specific implementation of setting the kernel arguments.</p></div></div></div></div></div></div><div class="public anchor" id="var-build-program.21"><h3>build-program!</h3><div class="usage"><code>(build-program! program devices options ch user-data)</code><code>(build-program! program devices options ch)</code><code>(build-program! program options ch)</code><code>(build-program! program ch)</code><code>(build-program! program)</code></div><div class="doc"><div class="markdown"><p>Builds (compiles and links) a program executable; returns the program changed with side effects on <code>program</code> argument.</p>
<p>Accepts the following arguments (nil is allowed for all optional arguments):</p>
<ul>
  <li><code>program</code>: previously loaded <code>cl_program</code> that contains the program source or binary;</li>
  <li><code>devices</code> (optional): an optional sequence of <code>cl_device</code>s associated with the program (if not supplied, all devices are used);</li>
  <li><code>options</code> (optional): an optional string of compiler options (such as “-Dname=value”);</li>
  <li><code>ch</code> (optional): core.async channel for notifications. If supplied, the build will be asynchronous;</li>
  <li><code>user-data</code> (optional): passed as part of notification data.</li>
</ul>
<p>In case of OpenCL errors during the program build, throws <code>Exceptioninfo</code>.</p>
<p>See <a href="https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clBuildProgram.html">https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clBuildProgram.html</a>, <a href="http://www.jocl.org/doc/org/jocl/CL.html#clBuildProgram-org.jocl.cl_program-int-org.jocl.cl_device_id:A-java.lang.String-org.jocl.BuildProgramFunction-java.lang.Object-">http://www.jocl.org/doc/org/jocl/CL.html#clBuildProgram-org.jocl.cl_program-int-org.jocl.cl_device_id:A-java.lang.String-org.jocl.BuildProgramFunction-java.lang.Object-</a></p>
<p>Examples:</p>
<pre><code>(build-program! program) ; synchronous
(build-program! program ch) ; asynchronous
(build-program! program "-cl-std=CL2.0" ch) ; asynchronous
(build-program! program [dev] "-cl-std=CL2.0" ch) ; async
(build-program! program [dev] "-cl-std=CL2.0" ch :my-data) ; async
</code></pre></div></div></div><div class="public anchor" id="var-cl-buffer"><h3>cl-buffer</h3><div class="usage"><code>(cl-buffer ctx size flag &amp; flags)</code><code>(cl-buffer size flag)</code><code>(cl-buffer size)</code></div><div class="doc"><div class="markdown"><p>Creates a cl buffer object (<a href="null">CLBuffer</a>) in <code>ctx</code>, given <code>size</code> in bytes and one or more memory allocation usage keyword flags: <code>:read-write</code>, <code>:read-only</code>, <code>:write-only</code>, <code>:use-host-ptr</code>, <code>:alloc-host-ptr</code>, <code>:copy-host-ptr</code>, <code>:host-write-only</code>, <code>:host-read-only</code>, <code>:host-no-access</code>.</p>
<p>If called with two arguments, uses the default <code>*context*</code> (see <a href="uncomplicate.clojurecl.core.html#var-with-context">with-context</a>).</p>
<p><strong>Needs to be released after use.</strong></p>
<p>If <code>ctx</code> is nil or the buffer size is invalid, throws <code>ExceptionInfo</code>. If some of the flags is invalid, throws <code>IllegalArgumentexception</code>.</p>
<p>See <a href="http://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clCreateBuffer.html">http://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clCreateBuffer.html</a>, <a href="http://www.jocl.org/doc/org/jocl/CL.html#clCreateBuffer-org.jocl.cl_context-long-long-org.jocl.Pointer-int:A-">http://www.jocl.org/doc/org/jocl/CL.html#clCreateBuffer-org.jocl.cl_context-long-long-org.jocl.Pointer-int:A-</a></p>
<p>Examples:</p>
<p>(cl-buffer 32 :read-only) (cl-buffer ctx 24 :write-only)</p></div></div></div><div class="public anchor" id="var-cl-buffer*"><h3>cl-buffer*</h3><div class="usage"><code>(cl-buffer* ctx size flags)</code></div><div class="doc"><div class="markdown"><p>Creates a cl buffer object in <code>ctx</code>, given <code>size</code> in bytes and a bitfield <code>flags</code> describing memory allocation usage.</p>
<p>Flags defined by the OpenCL standard are available as constants in the <a href="http://www.jocl.org/doc/org/jocl/CL.html">org.jocl.CL</a> class.</p>
<p><strong>Needs to be released after use.</strong></p>
<p>This is a low-level alternative to <a href="uncomplicate.clojurecl.core.html#var-cl-buffer">cl-buffer</a> If <code>ctx</code> is nil or the buffer size is invalid, throws <code>ExceptionInfo</code>.</p>
<p>See <a href="http://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clCreateBuffer.html">http://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clCreateBuffer.html</a>, <a href="http://www.jocl.org/doc/org/jocl/CL.html#clCreateBuffer-org.jocl.cl_context-long-long-org.jocl.Pointer-int:A-">http://www.jocl.org/doc/org/jocl/CL.html#clCreateBuffer-org.jocl.cl_context-long-long-org.jocl.Pointer-int:A-</a></p>
<p>Example:</p>
<p>(cl-buffer* ctx 24 CL/CL_MEM_READ_ONLY)</p></div></div></div><div class="public anchor" id="var-cl-buffer.3F"><h3>cl-buffer?</h3><div class="usage"><code>(cl-buffer? x)</code></div><div class="doc"><div class="markdown"><p>Checks whether an object is a CL buffer.</p></div></div></div><div class="public anchor" id="var-cl-sub-buffer"><h3>cl-sub-buffer</h3><div class="usage"><code>(cl-sub-buffer buffer origin size flag &amp; flags)</code><code>(cl-sub-buffer buffer origin size)</code></div><div class="doc"><div class="markdown"><p>Creates a cl buffer object (<a href="null">CLBuffer</a>) that shares data with an existing buffer object.</p>
<ul>
  <li><code>buffer</code> has to be a valid <a href="null">CLBuffer</a> object.</li>
  <li><code>origin</code> and <code>size</code> are numbers that denote offset and size of the region in the origin buffer.</li>
  <li><code>flag</code> and <code>flags</code> are memory allocation usage keywords same as in <a href="uncomplicate.clojurecl.core.html#var-cl-buffer">cl-buffer</a></li>
</ul>
<p><strong>Needs to be released after use.</strong></p>
<p>See <a href="http://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clCreateSubBuffer.html">http://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clCreateSubBuffer.html</a>, <a href="http://www.jocl.org/doc/org/jocl/CL.html#clCreateSubBuffer-org.jocl.cl_mem-long-int-org.jocl.cl_buffer_region-int:A-">http://www.jocl.org/doc/org/jocl/CL.html#clCreateSubBuffer-org.jocl.cl_mem-long-int-org.jocl.cl_buffer_region-int:A-</a></p>
<p>Examples:</p>
<pre><code>(def cl-buff (cl-buffer ctx 32 :write-only))
(cl-sub-buffer cl-buff 8 16 :write-only)
(cl-sub-buffer cl-buff 8 16)
</code></pre></div></div></div><div class="public anchor" id="var-cl-sub-buffer*"><h3>cl-sub-buffer*</h3><div class="usage"><code>(cl-sub-buffer* buffer flags create-type region)</code><code>(cl-sub-buffer* buffer flags region)</code></div><div class="doc"><div class="markdown"><p>Creates a cl buffer object (<a href="null">CLBuffer</a>) that shares data with an existing buffer object.</p>
<ul>
  <li><code>buffer</code> has to be a valid <a href="null">BLBuffer</a> buffer object.</li>
  <li><code>flags</code> is a bitfield that specifies allocation usage (see <a href="uncomplicate.clojurecl.core.html#var-cl-buffer*">cl-buffer*</a>).</li>
  <li><code>create-type</code> is a type of buffer object to be created (in OpenCL 2.0, only <code>CL/CL_BUFFER_CREATE_TYPE_REGION</code> is supported).</li>
  <li><code>region</code> is a <code>cl_buffer_region</code> that specifies offset and size of the subbuffer.</li>
</ul>
<p><strong>Needs to be released after use.</strong></p>
<p>See <a href="http://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clCreateBuffer.html">http://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clCreateBuffer.html</a>, <a href="http://www.jocl.org/doc/org/jocl/CL.html#clCreateBuffer-org.jocl.cl_context-long-long-org.jocl.Pointer-int:A-">http://www.jocl.org/doc/org/jocl/CL.html#clCreateBuffer-org.jocl.cl_context-long-long-org.jocl.Pointer-int:A-</a></p>
<p>Examples:</p>
<p>(def cl-buff (cl-buffer ctx 32 :write-only)) (def region (cl_buffer_region. 8 16)) (cl-sub-buffer* cl-buff CL/CL_MEM_READ_WRITE CL/CL_BUFFER_CREATE_TYPE_REGION region) (cl-sub-buffer* cl-buff CL/CL_MEM_READ_ONLY region)</p></div></div></div><div class="public anchor" id="var-CLMem"><h3>CLMem</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>A wrapper for <code>cl_mem</code> objects, that also holds a <code>Pointer</code> to the cl mem object, context that created it, and size in bytes. It is useful in many functions that need that (redundant in Java) data because of the C background of OpenCL functions.</p></div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-cl-mem"><h3>cl-mem</h3><div class="usage"><code>(cl-mem this)</code></div><div class="doc"><div class="markdown"><p>The raw JOCL <code>cl_mem</code> object.</p></div></div></div><div class="public anchor" id="var-enq-copy*"><h3>enq-copy*</h3><div class="usage"><code>(enq-copy* this queue dst src-offset dst-offset cb wait-events ev)</code></div><div class="doc"><div class="markdown"><p>A specific implementation for copying this <code>cl-mem</code> object to another cl mem.</p></div></div></div><div class="public anchor" id="var-enq-fill*"><h3>enq-fill*</h3><div class="usage"><code>(enq-fill* this queue pattern offset multiplier wait-events ev)</code></div><div class="doc"><div class="markdown"><p>A specific implementation for filling this <code>cl-mem</code> object.</p></div></div></div></div></div></div><div class="public anchor" id="var-command-queue"><h3>command-queue</h3><div class="usage"><code>(command-queue ctx device x &amp; properties)</code><code>(command-queue ctx device)</code><code>(command-queue device)</code></div><div class="doc"><div class="markdown"><p>Creates a host or device command queue on a specific device.</p>
<p>** If you need to support OpenCL 1.2 platforms, you MUST use the alternative <a href="uncomplicate.clojurecl.legacy.html#var-command-queue-1*">legacy/command-queue-1*</a> function. Otherwise, you will get a compilation exception. What is important is the version of the platform, not the devices. This function is for platforms (regardless of the devices) supporting OpenCL 2.0 and higher. **</p>
<p>Arguments are:</p>
<ul>
  <li><code>ctx</code> - the <code>cl_context</code> for the queue;</li>
  <li><code>device</code> - the <code>cl_device_id</code> for the queue;</li>
  <li><code>x</code> - if integer, the size of the (on device) queue, otherwise treated as property;</li>
  <li><code>properties</code> - additional optional keyword properties: <code>:profiling</code>, <code>:queue-on-device</code>, <code>:out-of-order-exec-mode</code>, and <code>queue-on-device-default</code>;</li>
</ul>
<p><strong>Needs to be released after use.</strong></p>
<p>See also <a href="uncomplicate.clojurecl.core.html#var-command-queue*">command-queue*</a>.</p>
<p>If called with invalid context or device, throws <code>ExceptionInfo</code>. If called with any invalid property, throws NullPointerexception.</p>
<p>See <a href="https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clCreateCommandQueueWithProperties.html">https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clCreateCommandQueueWithProperties.html</a>, <a href="http://www.jocl.org/doc/org/jocl/CL.html#clCreateCommandQueueWithProperties-org.jocl.cl_context-org.jocl.cl_device_id-org.jocl.cl_queue_properties-int:A-">http://www.jocl.org/doc/org/jocl/CL.html#clCreateCommandQueueWithProperties-org.jocl.cl_context-org.jocl.cl_device_id-org.jocl.cl_queue_properties-int:A-</a></p>
<p>Examples:</p>
<pre><code> (command-queue ctx)
 (command-queue ctx dev)
 (command-queue ctx dev :profiling :queue-on-device :out-of-order-execution-mode)
 (command-queue ctx dev 524288 :queue-on-device)
</code></pre></div></div></div><div class="public anchor" id="var-command-queue*"><h3>command-queue*</h3><div class="usage"><code>(command-queue* ctx device properties)</code><code>(command-queue* ctx device size properties)</code></div><div class="doc"><div class="markdown"><p>Creates a host or device command queue on a specific device.</p>
<p>** If you need to support OpenCL 1.2 platforms, you MUST use the alternative <a href="uncomplicate.clojurecl.legacy.html#var-command-queue-1*">legacy/command-queue-1*</a> function. Otherwise, you will get a compilation exception. What is important is the version of the platform, not the devices. This function is for platforms (regardless of the devices) supporting OpenCL 2.0 and higher. **</p>
<p>Arguments are:</p>
<ul>
  <li><code>ctx</code> - the <code>cl_context</code> for the queue;</li>
  <li><code>device</code> - the <code>cl_device_id</code> for the queue;</li>
  <li><code>size</code> - the size of the (on device) queue;</li>
  <li><code>properties</code> - long bitmask containing properties, defined by the OpenCL standard are available as constants in the org.jocl.CL class.</li>
</ul>
<p>This is a low-level version of <a href="uncomplicate.clojurecl.core.html#var-command-queue">command-queue</a>.</p>
<p>If called with invalid context or device, throws <code>ExceptionInfo</code>.</p>
<p>See <a href="https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clCreateCommandQueueWithProperties.html">https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clCreateCommandQueueWithProperties.html</a>, <a href="http://www.jocl.org/doc/org/jocl/CL.html#clCreateCommandQueueWithProperties-org.jocl.cl_context-org.jocl.cl_device_id-org.jocl.cl_queue_properties-int:A-">http://www.jocl.org/doc/org/jocl/CL.html#clCreateCommandQueueWithProperties-org.jocl.cl_context-org.jocl.cl_device_id-org.jocl.cl_queue_properties-int:A-</a></p>
<p>Examples:  (command-queue* ctx dev 524288 (bit-or CL/CL_QUEUE_PROFILING_ENABLED  CL/CL_QUEUE_ON_DEVICE))  (command-queue* ctx dev CL/CL_QUEUE_PROFILING_ENABLED)</p></div></div></div><div class="public anchor" id="var-context"><h3>context</h3><div class="usage"><code>(context devices properties ch user-data)</code><code>(context devices)</code><code>(context)</code></div><div class="doc"><div class="markdown"><p>Creates <code>cl_context</code> for a vector of <code>device</code>s, with optional hashmap of <code>properties</code>, error reporting core.async channel <code>ch</code> and user data that should accompany the error report. If called with no arguments, creates a context using all devices of the default platform (<code>*platform</code>).</p>
<p>If <code>devices</code> is empty, throws <code>ExceptionInfo</code>.</p>
<p><strong>Needs to be released after use.</strong> (see <a href="uncomplicate.clojurecl.core.html#var-with-context">with-context</a>).</p>
<p>See <a href="http://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clCreateContext.html">http://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clCreateContext.html</a> , <a href="http://www.jocl.org/doc/org/jocl/CL.html#clCreateContext-org.jocl.cl_context_properties-int-org.jocl.cl_device_id:A-org.jocl.CreateContextFunction-java.lang.Object-int:A-">http://www.jocl.org/doc/org/jocl/CL.html#clCreateContext-org.jocl.cl_context_properties-int-org.jocl.cl_device_id:A-org.jocl.CreateContextFunction-java.lang.Object-int:A-</a></p>
<p>Examples:</p>
<pre><code>  (context)
  (context (devices (first (platforms))))
  (context (devices (first (platforms))) {:platform p} (chan) :my-data)
</code></pre></div></div></div><div class="public anchor" id="var-context*"><h3>context*</h3><div class="usage"><code>(context* devices properties ch user-data)</code></div><div class="doc"><div class="markdown"><p>Creates <code>cl_context</code> for an array of <code>device</code>s, with optional <code>cl_context_properties</code>, error reporting core.async channel <code>ch</code> and user data that should accompany the error report.</p>
<p>If <code>devices</code> is empty, throws <code>ExceptionInfo</code>.</p>
<p><strong>Needs to be released after use.</strong></p>
<p>This is a low-level alternative to <a href="uncomplicate.clojurecl.core.html#var-context">context</a>.</p>
<p>See <a href="http://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clCreateContext.html">http://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clCreateContext.html</a> See throws <code>Illegalargumentexception</code><a href="http://www.jocl.org/doc/org/jocl/CL.html#clCreateContext-org.jocl.cl_context_properties-int-org.jocl.cl_device_id:A-org.jocl.CreateContextFunction-java.lang.Object-int:A-">http://www.jocl.org/doc/org/jocl/CL.html#clCreateContext-org.jocl.cl_context_properties-int-org.jocl.cl_device_id:A-org.jocl.CreateContextFunction-java.lang.Object-int:A-</a></p></div></div></div><div class="public anchor" id="var-context-info"><h3>context-info</h3><div class="usage"><code>(context-info)</code></div><div class="doc"><div class="markdown"><p>Info of the default context (<a href="uncomplicate.clojurecl.core.html#var-*context*">*context*</a>). If <a href="uncomplicate.clojurecl.core.html#var-*context*">*context*</a> is unbound, throws <code>Illegalargumentexception</code></p>
<p>See also: <a href="uncomplicate.clojurecl.core.html#var-with-context">with-context</a></p>
<p>Example:</p>
<pre><code>(with-context (context devices)
    (context-info))
</code></pre></div></div></div><div class="public anchor" id="var-context-properties"><h3>context-properties</h3><div class="usage"><code>(context-properties props)</code></div><div class="doc"><div class="markdown"><p>Creates <code>cl_context_properties</code> from a map of properties. Currently, this is not very useful, it is only here to support the full compatibility of <a href="uncomplicate.clojurecl.core.html#var-context*">context*</a> function with the JOCL API.</p></div></div></div><div class="public anchor" id="var-Contextual"><h3>Contextual</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>An object that has some dependency on a <code>cl_context</code>.</p></div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-cl-context"><h3>cl-context</h3><div class="usage"><code>(cl-context this)</code></div><div class="doc"><div class="markdown"><p>Context that is related to this object.</p></div></div></div></div></div></div><div class="public anchor" id="var-devices"><h3>devices</h3><div class="usage"><code>(devices platform device-type &amp; device-types)</code><code>(devices x)</code><code>(devices)</code></div><div class="doc"><div class="markdown"><p>Queries <code>platform</code> for the devices of one or a combination of several <code>device-type</code>s: <code>:gpu</code>, <code>:cpu</code>, <code>:all</code>, <code>:accelerator</code>, <code>:custom</code>, <code>:default</code>, and returns them in a vector containing <code>cl_device_id</code> objects.</p>
<p>When called with only one argument <code>x</code>:</p>
<ul>
  <li>if <code>x</code> is a keyword, returns the devices of type <code>x</code> in <code>*platform*</code>;</li>
  <li>otherwise returns all devices on the platform <code>x</code>.</li>
</ul>
<p>When called with no arguments, returns all devices in <code>*platform*</code>.</p>
<p>Root level devices do not need to be explicitly released.</p>
<p>When called with an invalid platform, throws <a href="http://clojuredocs.org/clojure.core/ex-info">ExceptionInfo</a>. When called with an unknown device type, throws <code>NullPointerException</code></p>
<p>See also <a href="uncomplicate.clojurecl.core.html#var-devices*">devices*</a>.</p>
<p>Examples:</p>
<pre><code>(devices)
(devices (first (platforms)))
(devices :gpu)
(devices (first (platforms)) :gpu :cpu :accelerator)
</code></pre></div></div></div><div class="public anchor" id="var-devices*"><h3>devices*</h3><div class="usage"><code>(devices* platform device-type)</code></div><div class="doc"><div class="markdown"><p>Queries <code>platform</code> for the devices of <code>device-type</code>s, and returns them as an array of <code>cl_device_id</code>s. The types are given as a bitfield, where each type is a number constant defined in the OpenCL standard. Available device types are accessible through <code>org.jocl.CL/CL_DEVICE_TYPE_X</code> constants. If there are no such devices, returns a zero-length array.</p>
<p>Root level devices do not need to be explicitly released.</p>
<p>NOTE: You should prefer a higher-level <a href="uncomplicate.clojurecl.core.html#var-devices">devices</a> function, unless you already have a <code>device-type</code> in a long number form in your code, and/or you want to get resulting devices in an array rather than in a vector.</p>
<p>When called with an invalid platform, throws <a href="http://clojuredocs.org/clojure.core/ex-info">ExceptionInfo</a>.</p>
<p>See <a href="http://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clGetDeviceIDs.html">http://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clGetDeviceIDs.html</a> and <a href="http://www.jocl.org/doc/org/jocl/CL.html#clGetDeviceIDs-int-org.jocl.cl_device_id:A-int:A-">http://www.jocl.org/doc/org/jocl/CL.html#clGetDeviceIDs-int-org.jocl.cl_device_id:A-int:A-</a></p></div></div></div><div class="public anchor" id="var-enq-barrier.21"><h3>enq-barrier!</h3><div class="usage"><code>(enq-barrier! queue)</code><code>(enq-barrier! queue ev)</code><code>(enq-barrier! queue wait-events ev)</code></div><div class="doc"><div class="markdown"><p>A synchronization point that enqueues a barrier operation. Returns the queue.</p>
<p>See <a href="https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clEnqueueBarrierWithWaitList">https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clEnqueueBarrierWithWaitList</a>, <a href="http://www.jocl.org/doc/org/jocl/CL.html#clEnqueueBarrierWithWaitList-org.jocl.cl_command_queue-int-org.jocl.cl_event:A-org.jocl.cl_event-">http://www.jocl.org/doc/org/jocl/CL.html#clEnqueueBarrierWithWaitList-org.jocl.cl_command_queue-int-org.jocl.cl_event:A-org.jocl.cl_event-</a></p>
<p>Examples:</p>
<p>(enq-barrier! queue (events ev-nd) ev-map) (enq-barrier! queue) (enq-barrier! queue ev-map)</p></div></div></div><div class="public anchor" id="var-enq-copy.21"><h3>enq-copy!</h3><div class="usage"><code>(enq-copy! queue cl-src cl-dst src-offset dst-offset size wait-events ev)</code><code>(enq-copy! queue cl-src cl-dst size wait-events ev)</code><code>(enq-copy! queue cl-src cl-dst wait-events ev)</code><code>(enq-copy! queue cl-src cl-dst size)</code><code>(enq-copy! queue cl-src cl-dst)</code><code>(enq-copy! cl-src cl-dst)</code></div><div class="doc"><div class="markdown"><p>Enqueues a command to copy from one <a href="uncomplicate.clojurecl.core.html#var-CLMem">CLMem</a> memory object to another.</p>
<p>In case of OpenCL errors, throws an <code>ExceptionInfo</code>.</p>
<p>See <a href="https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clEnqueueCopyBuffer.html">https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clEnqueueCopyBuffer.html</a> <a href="http://www.jocl.org/doc/org/jocl/CL.html#clEnqueueCopyBuffer-org.jocl.cl_command_queue-org.jocl.cl_mem-org.jocl.cl_mem-long-long-long-int-org.jocl.cl_event:A-org.jocl.cl_event-">http://www.jocl.org/doc/org/jocl/CL.html#clEnqueueCopyBuffer-org.jocl.cl_command_queue-org.jocl.cl_mem-org.jocl.cl_mem-long-long-long-int-org.jocl.cl_event:A-org.jocl.cl_event-</a></p>
<p>Examples:</p>
<pre><code>(enq-copy! my-queue cl-src cl-dst 4 8 32 (events) ev)
</code></pre></div></div></div><div class="public anchor" id="var-enq-fill.21"><h3>enq-fill!</h3><div class="usage"><code>(enq-fill! queue this pattern offset multiplier wait-events ev)</code><code>(enq-fill! queue this pattern wait-events ev)</code><code>(enq-fill! queue this pattern)</code><code>(enq-fill! this pattern)</code></div><div class="doc"><div class="markdown"><p>Enqueues a command to fill a buffer object with a <a href="uncomplicate.clojurecl.core.html#var-Mem">Mem</a> pattern.</p>
<p>In case of OpenCL errors, throws an <code>ExceptionInfo</code>.</p>
<p>See <a href="https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clEnqueueFillBuffer.html">https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clEnqueueFillBuffer.html</a> <a href="http://www.jocl.org/doc/org/jocl/CL.html#clEnqueueFillBuffer-org.jocl.cl_command_queue-org.jocl.cl_mem-org.jocl.Pointer-long-long-long-int-org.jocl.cl_event:A-org.jocl.cl_event-">http://www.jocl.org/doc/org/jocl/CL.html#clEnqueueFillBuffer-org.jocl.cl_command_queue-org.jocl.cl_mem-org.jocl.Pointer-long-long-long-int-org.jocl.cl_event:A-org.jocl.cl_event-</a></p>
<p>Examples:</p>
<pre><code>(enq-fill! my-queue cl-buf (float-array [1 2 3 4]) 2 (events) ev)
</code></pre></div></div></div><div class="public anchor" id="var-enq-map-buffer.21"><h3>enq-map-buffer!</h3><div class="usage"><code>(enq-map-buffer! queue cl blocking offset req-size flags wait-events event)</code><code>(enq-map-buffer! queue cl offset req-size flags wait-events event)</code><code>(enq-map-buffer! queue cl flags wait-events event)</code><code>(enq-map-buffer! queue cl flags event)</code><code>(enq-map-buffer! queue cl flags)</code><code>(enq-map-buffer! cl flags)</code></div><div class="doc"><div class="markdown"><p>Enqueues a command to map a region of the cl buffer into the host address space. Returns the mapped <code>java.nio.ByteBuffer</code>. The result must be unmapped by calling <a href="uncomplicate.clojurecl.core.html#var-enq-unmap.21">enq-unmap!</a> for the effects of working with the mapping byte buffer to be transfered back to the device memory.</p>
<p>Arguments:</p>
<ul>
  <li><code>queue</code> (optional): the <code>cl_command_queue</code> that maps the object. If omitted, <a href="uncomplicate.clojurecl.core.html#var-*command-queue*">*command-queue*</a> will be used.</li>
  <li><code>cl</code>: the <a href="uncomplicate.clojurecl.core.html#var-CLMem">CLMem</a> that is going to be mapped to.</li>
  <li><code>blocking</code>: whether the operation is blocking or non-blocking.</li>
  <li><code>offset</code>: integer value of the memory offset in bytes.</li>
  <li><code>req-size</code>: integer value of the requested size in bytes (if larger than  the available data, it will be shrinked).</li>
  <li>flags: one keyword or a sequence of keywords that indicates memory mapping settings: <code>:read</code>, <code>:write</code>, and/or <code>:write-invalidate-settings</code>.</li>
  <li><code>wait-events</code> (optional): <a href="uncomplicate.clojurecl.core.html#var-events">events</a> array specifying the events (if any) that need to complete before this operation.</li>
  <li><code>event</code> (optional): if specified, the <code>cl_event</code> object tied to the execution of this operation.</li>
</ul>
<p>If event is specified, the operation is asynchronous, otherwise it blocks the current thread until the data transfer completes. See also <a href="uncomplicate.clojurecl.core.html#var-register">register</a>.</p>
<p>See <a href="https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clEnqueueMapBuffer.html">https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clEnqueueMapBuffer.html</a>, <a href="http://www.jocl.org/doc/org/jocl/CL.html#clEnqueueMapBuffer-org.jocl.cl_command_queue-org.jocl.cl_mem-boolean-long-long-long-int-org.jocl.cl_event:A-org.jocl.cl_event-int:A-">http://www.jocl.org/doc/org/jocl/CL.html#clEnqueueMapBuffer-org.jocl.cl_command_queue-org.jocl.cl_mem-boolean-long-long-long-int-org.jocl.cl_event:A-org.jocl.cl_event-int:A-</a></p>
<p>Examples:</p>
<pre><code>(enq-map-buffer! queue cl-data :write (events ev-nd) ev-map)
(enq-map-buffer! queue cl-data [:write :read])
(enq-map-buffer! cl-data :write)
</code></pre></div></div></div><div class="public anchor" id="var-enq-map-buffer*"><h3>enq-map-buffer*</h3><div class="usage"><code>(enq-map-buffer* queue cl blocking offset req-size flags wait-events event)</code></div><div class="doc"><div class="markdown"><p>Enqueues a command to map a region of the cl buffer into the host address space. Returns the mapped <code>java.nio.ByteBuffer</code>. The result must be unmapped by calling <a href="uncomplicate.clojurecl.core.html#var-enq-unmap.21">enq-unmap!</a> for the effects of working with the mapping byte buffer to be transfered back to the device memory.</p>
<p>Arguments:</p>
<ul>
  <li><code>queue</code> (optional): the <code>cl_command_queue</code> that maps the object. If omitted, <a href="uncomplicate.clojurecl.core.html#var-*command-queue*">*command-queue*</a> will be used.</li>
  <li><code>cl</code>: the <a href="uncomplicate.clojurecl.core.html#var-CLMem">CLMem</a> that is going to be mapped to.</li>
  <li><code>blocking</code>: whether the operation is blocking (CL/CL_TRUE) or non-blocking (CL/CL_FALSE).</li>
  <li><code>offset</code>: integer value of the memory offset in bytes.</li>
  <li><code>req-size</code>: integer value of the requested size in bytes (if larger than  the available data, it will be shrinked.).</li>
  <li><code>flags</code>: a bitfield that indicates whether the memory is mapped for reading (<code>CL/CL_MAP_READ</code>), writing (<code>CL/CL_MAP_WRITE</code>) or both <code>(bit-or CL/CL_MAP_READ CL/CL_MAP_WRITE)</code>.</li>
  <li><code>wait-events</code> (optional): <a href="uncomplicate.clojurecl.core.html#var-events">events</a> array specifying the events (if any) that need to complete before this operation.</li>
  <li><code>event</code> (optional): if specified, the <code>cl_event</code> object tied to the execution of this operation.</li>
</ul>
<p>This is a low-level version of <a href="uncomplicate.clojurecl.core.html#var-enq-map-buffer.21">enq-map-buffer!</a>.</p>
<p>See <a href="https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clEnqueueMapBuffer.html">https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clEnqueueMapBuffer.html</a>, <a href="http://www.jocl.org/doc/org/jocl/CL.html#clEnqueueMapBuffer-org.jocl.cl_command_queue-org.jocl.cl_mem-boolean-long-long-long-int-org.jocl.cl_event:A-org.jocl.cl_event-int:A-">http://www.jocl.org/doc/org/jocl/CL.html#clEnqueueMapBuffer-org.jocl.cl_command_queue-org.jocl.cl_mem-boolean-long-long-long-int-org.jocl.cl_event:A-org.jocl.cl_event-int:A-</a></p>
<p>Examples:</p>
<pre><code>(enq-map-buffer* queue cl-data true 0 CL/CL_WRITE (events ev-nd) ev-map)
</code></pre></div></div></div><div class="public anchor" id="var-enq-marker.21"><h3>enq-marker!</h3><div class="usage"><code>(enq-marker! queue)</code><code>(enq-marker! queue ev)</code><code>(enq-marker! queue wait-events ev)</code></div><div class="doc"><div class="markdown"><p>Enqueues a marker command which waits for either a list of events to complete, or all previously enqueued commands to complete. Returns the queue.</p>
<p>See <a href="https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clEnqueueMarkerWithWaitList">https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clEnqueueMarkerWithWaitList</a>,</p>
<p><a href="http://www.jocl.org/doc/org/jocl/CL.html#clEnqueueMarkerWithWaitList-org.jocl.cl_command_queue-int-org.jocl.cl_event:A-org.jocl.cl_event-">http://www.jocl.org/doc/org/jocl/CL.html#clEnqueueMarkerWithWaitList-org.jocl.cl_command_queue-int-org.jocl.cl_event:A-org.jocl.cl_event-</a> Examples:</p>
<p>(enq-marker! queue (events ev-nd) ev-map) (enq-marker! queue) (enq-marker! queue ev-map)</p></div></div></div><div class="public anchor" id="var-enq-nd.21"><h3>enq-nd!</h3><div class="usage"><code>(enq-nd! queue kernel work-size wait-events event)</code><code>(enq-nd! queue kernel work-size event)</code><code>(enq-nd! queue kernel work-size)</code><code>(enq-nd! kernel work-size)</code></div><div class="doc"><div class="markdown"><p>Enqueues a command to asynchronously execute a kernel on a device. Returns the queue.</p>
<p>Arguments:</p>
<ul>
  <li><code>queue</code> (optional): the <code>cl_command_queue</code> that executes the kernel. If omitted, <a href="uncomplicate.clojurecl.core.html#var-*command-queue*">*command-queue*</a> will be used.</li>
  <li><code>kernel</code>: the <code>cl_kernel</code> that is going to be executed.</li>
  <li><code>work-size</code>: <a href="null">WorkSize</a> containing the settings of execution (global work size, local work size, global work offset).</li>
  <li><code>wait-events</code> (optional): <a href="uncomplicate.clojurecl.core.html#var-events">events</a> array specifying the events (if any) that need to complete before this command can be executed.</li>
  <li><code>event</code> (optional): if specified, the <code>cl_event</code> object tied to the execution of this command.</li>
</ul>
<p>If an OpenCL error occurs during the call, throws <code>ExceptionInfo</code>.</p>
<p>See <a href="https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clEnqueueNDRangeKernel.html">https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clEnqueueNDRangeKernel.html</a>, <a href="http://www.jocl.org/doc/org/jocl/CL.html#clEnqueueNDRangeKernel-org.jocl.cl_command_queue-org.jocl.cl_kernel-int-long:A-long:A-long:A-int-org.jocl.cl_event:A-org.jocl.cl_event-">http://www.jocl.org/doc/org/jocl/CL.html#clEnqueueNDRangeKernel-org.jocl.cl_command_queue-org.jocl.cl_kernel-int-long:A-long:A-long:A-int-org.jocl.cl_event:A-org.jocl.cl_event-</a></p>
<p>Examples:</p>
<pre><code>(enq-nd! my-kernel (work-size [8]))
(enq-nd! my-queue my-kernel (work-size [8]))
(enq-nd! my-queue my-kernel (work-size [8] (events event1 event2) my-event))
</code></pre></div></div></div><div class="public anchor" id="var-enq-read.21"><h3>enq-read!</h3><div class="usage"><code>(enq-read! queue cl host blocking offset wait-events event)</code><code>(enq-read! queue cl host wait-events event)</code><code>(enq-read! queue cl host event)</code><code>(enq-read! queue cl host)</code><code>(enq-read! cl host)</code></div><div class="doc"><div class="markdown"><p>Enqueues a command to read from a cl object to host memory. Returns the queue.</p>
<ul>
  <li><code>queue</code> (optional): the <code>cl_command_queue</code> that reads the object. If omitted, <a href="uncomplicate.clojurecl.core.html#var-*command-queue*">*command-queue*</a> will be used.</li>
  <li><code>cl</code>: the <a href="uncomplicate.clojurecl.core.html#var-CLMem">CLMem</a> that is going to be read from.</li>
  <li><code>host</code>: <a href="uncomplicate.clojurecl.core.html#var-Mem">Mem</a> object on the host that the data is to be transferred to. Must be a direct buffer if the reading is asynchronous.</li>
  <li><code>blocking</code>: boolean indicator of synchronization.</li>
  <li><code>offset</code>: the offset in bytes in the buffer object to read from.</li>
  <li><code>wait-events</code> (optional): <a href="uncomplicate.clojurecl.core.html#var-events">events</a> array specifying the events (if any) that need to complete before this operation.</li>
  <li><code>event</code> (optional): if specified, the <code>cl_event</code> object tied to the execution of this operation.</li>
</ul>
<p>If event is specified, the operation is asynchronous, otherwise it blocks the current thread until the data transfer completes, unless explicitly specifiend with <code>blocking</code>. See also <a href="uncomplicate.clojurecl.core.html#var-register">register</a>.</p>
<p>See <a href="https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clEnqueueReadBuffer.html">https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clEnqueueReadBuffer.html</a>, <a href="http://www.jocl.org/doc/org/jocl/CL.html#clEnqueueReadBuffer-org.jocl.cl_command_queue-org.jocl.cl_mem-boolean-long-long-org.jocl.Pointer-int-org.jocl.cl_event:A-org.jocl.cl_event-">http://www.jocl.org/doc/org/jocl/CL.html#clEnqueueReadBuffer-org.jocl.cl_command_queue-org.jocl.cl_mem-boolean-long-long-org.jocl.Pointer-int-org.jocl.cl_event:A-org.jocl.cl_event-</a></p>
<p>Examples:</p>
<pre><code>(require '[uncomplicate.commons
           [utils :refer [direct-buffer]]]
         '[clojure.core.async :refer :all])
         
  (let [host-data (direct-buffer 32)
      ev (event)
      notifications (chan)
      follow (register notifications)]
  (enq-read! my-queue cl-data host-data ev) ;; asynchronous
  (follow ev)
  (&lt;!! notifications))

(enq-read! my-queu cl-data host-data) ;; blocking
</code></pre></div></div></div><div class="public anchor" id="var-enq-svm-map.21"><h3>enq-svm-map!</h3><div class="usage"><code>(enq-svm-map! queue svm flags wait-events event)</code><code>(enq-svm-map! queue svm flags event)</code><code>(enq-svm-map! queue svm flags)</code><code>(enq-svm-map! svm flags)</code></div><div class="doc"><div class="markdown"><p>Enqueues a command that will allow the host to update a region of a SVM buffer. . Returns the mapped <code>java.nio.ByteBuffer</code> (which is the same byte buffer that is  already accessible through <code>(byte-buffer svm)</code>). Together with <a href="uncomplicate.clojurecl.core.html#var-enq-svm-unmap.21">enq-svm-unmap!</a>,  works as a synchronization point.</p>
<p>Arguments:</p>
<ul>
  <li><code>queue</code> (optional): the <code>cl_command_queue</code> that maps the object.  If omitted, <a href="uncomplicate.clojurecl.core.html#var-*command-queue*">*command-queue*</a> will be used.</li>
  <li><code>svm</code>: the <a href="uncomplicate.clojurecl.core.html#var-SVMMem">SVMMem</a> that is going to be mapped to.</li>
  <li><code>offset</code> (optional): integer value of the memory offset in bytes.</li>
  <li><code>flags</code> (optional): a bitfield that indicates whether the memory is mapped for reading  :read, :write, and/or :write-invalidate-region.</li>
  <li><code>wait-events</code> (optional): <a href="uncomplicate.clojurecl.core.html#var-events">events</a> array specifying the events (if any)  that need to complete before this operation.</li>
  <li><code>event</code> (optional): if specified, the <code>cl_event</code> object tied to  the execution of this operation.</li>
</ul>
<p>If event is specified, the operation is asynchronous, otherwise it blocks the  current thread until the data transfer completes. See also <a href="uncomplicate.clojurecl.core.html#var-register">register</a>.</p>
<p>See also <a href="uncomplicate.clojurecl.core.html#var-enq-svm-map*">enq-svm-map*</a>.</p>
<p>See <a href="https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clEnqueueSVMMap.html">https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clEnqueueSVMMap.html</a>,  <a href="http://www.jocl.org/doc/org/jocl/CL.html#clEnqueueSVMMap-org.jocl.cl_command_queue-boolean-long-org.jocl.Pointer-long-int-org.jocl.cl_event:A-org.jocl.cl_event-">http://www.jocl.org/doc/org/jocl/CL.html#clEnqueueSVMMap-org.jocl.cl_command_queue-boolean-long-org.jocl.Pointer-long-int-org.jocl.cl_event:A-org.jocl.cl_event-</a></p>
<p>Examples:</p>
<pre><code>  (enq-svm-map queue svm-data 0 [:write :read] (events ev-nd) ev-map)
  (enq-svm-map queue svm-data [:write :read] (events ev-nd) ev-map)
  (enq-svm-map queue svm-data :write ev-map)
  (enq-svm-map queue svm-data :read)
  (enq-svm-map svm-data :write-invalidate-region)
</code></pre></div></div></div><div class="public anchor" id="var-enq-svm-map*"><h3>enq-svm-map*</h3><div class="usage"><code>(enq-svm-map* queue svm blocking flags wait-events event)</code></div><div class="doc"><div class="markdown"><p>Enqueues a command that will allow the host to update a region of a SVM buffer. . Returns the mapped <code>java.nio.ByteBuffer</code> (which is the same byte buffer that is  already accessible through <code>(byte-buffer svm)</code>). Together with <a href="uncomplicate.clojurecl.core.html#var-enq-svm-unmap.21">enq-svm-unmap!</a>,  works as a synchronization point.</p>
<p>Arguments:</p>
<ul>
  <li><code>queue</code> (optional): the <code>cl_command_queue</code> that maps the object.  If omitted, <a href="uncomplicate.clojurecl.core.html#var-*command-queue*">*command-queue*</a> will be used.</li>
  <li><code>svm</code>: the <a href="uncomplicate.clojurecl.core.html#var-SVMMem">SVMMem</a> that is going to be mapped to.</li>
  <li><code>blocking</code>: whether the operation is blocking (CL/CL_TRUE) or non-blocking  (CL/CL_FALSE).</li>
  <li><code>flags</code>: a bitfield that indicates whether the memory is mapped for reading  (<code>CL/CL_MAP_READ</code>), writing (<code>CL/CL_MAP_WRITE</code>), both  <code>(bit-or CL/CL_MAP_READ CL/CL_MAP_WRITE)</code> or <code>CL_MAP_WRITE_INVALIDATE_REGION</code>.</li>
  <li><code>wait-events</code> (optional): <a href="uncomplicate.clojurecl.core.html#var-events">events</a> array specifying the events (if any)  that need to complete before this operation.</li>
  <li><code>event</code> (optional): if specified, the <code>cl_event</code> object tied to  the execution of this operation.</li>
</ul>
<p>This is a low-level version of <a href="uncomplicate.clojurecl.core.html#var-enq-svm-map.21">enq-svm-map!</a>.</p>
<p>See <a href="https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clEnqueueSVMMap.html">https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clEnqueueSVMMap.html</a>,  <a href="http://www.jocl.org/doc/org/jocl/CL.html#clEnqueueSVMMap-org.jocl.cl_command_queue-boolean-long-org.jocl.Pointer-long-int-org.jocl.cl_event:A-org.jocl.cl_event-">http://www.jocl.org/doc/org/jocl/CL.html#clEnqueueSVMMap-org.jocl.cl_command_queue-boolean-long-org.jocl.Pointer-long-int-org.jocl.cl_event:A-org.jocl.cl_event-</a></p>
<p>Examples:</p>
<pre><code>  (enq-svm-map* queue svm-data false 0 CL/CL_WRITE (events ev-nd) ev-map)
</code></pre></div></div></div><div class="public anchor" id="var-enq-svm-unmap.21"><h3>enq-svm-unmap!</h3><div class="usage"><code>(enq-svm-unmap! queue svm wait-events event)</code><code>(enq-svm-unmap! queue svm event)</code><code>(enq-svm-unmap! queue svm)</code><code>(enq-svm-unmap! svm)</code></div><div class="doc"><div class="markdown"><p>Enqueues a command to indicate that the host has completed updating the region given by svm <a href="uncomplicate.clojurecl.core.html#var-SVMMem">SVMMem</a> and which was specified in a previous call to <a href="uncomplicate.clojurecl.core.html#var-enq-svm-map.21">enq-svm-map!</a>.</p>
<p>Arguments:</p>
<ul>
  <li><code>queue</code> (optional): the <code>cl_command_queue</code> that unmaps the object. If omitted, <a href="uncomplicate.clojurecl.core.html#var-*command-queue*">*command-queue*</a> will be used.</li>
  <li><code>svm</code>: the <a href="uncomplicate.clojurecl.core.html#var-SVMMem">SVMMem</a> that is going to be unmapped.</li>
  <li><code>wait-events</code> (optional): <a href="uncomplicate.clojurecl.core.html#var-events">events</a> array specifying the events (if any) that need to complete before this operation.</li>
  <li><code>event</code> (optional): if specified, the <code>cl_event</code> object tied to the execution of this operation.</li>
</ul>
<p>If event is specified, the operation is asynchronous, otherwise it blocks the current thread until the data transfer completes. See also <a href="uncomplicate.clojurecl.core.html#var-register">register</a>.</p>
<p>See also <a href="uncomplicate.clojurecl.core.html#var-enq-svm-map.21">enq-svm-map!</a>.</p>
<p>See <a href="https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clEnqueueSVMUnmap">https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clEnqueueSVMUnmap</a>, <a href="http://www.jocl.org/doc/org/jocl/CL.html#clEnqueueSVMUnmap-org.jocl.cl_command_queue-org.jocl.Pointer-int-org.jocl.cl_event:A-org.jocl.cl_event-">http://www.jocl.org/doc/org/jocl/CL.html#clEnqueueSVMUnmap-org.jocl.cl_command_queue-org.jocl.Pointer-int-org.jocl.cl_event:A-org.jocl.cl_event-</a></p>
<p>Examples:</p>
<pre><code>(enq-svm-unmap! queue svm-data byte-buff (events ev-nd) ev-map)
(enq-svm-unmap! queue svm-data byte-buff ev-map)
(enq-svm-unmap! queue svm-data byte-buff)
(enq-svm-unmap! svm-data byte-buff)
</code></pre></div></div></div><div class="public anchor" id="var-enq-unmap.21"><h3>enq-unmap!</h3><div class="usage"><code>(enq-unmap! queue cl host wait-events event)</code><code>(enq-unmap! queue cl host event)</code><code>(enq-unmap! queue cl host)</code><code>(enq-unmap! cl host)</code></div><div class="doc"><div class="markdown"><p>Enqueues a command to unmap a previously mapped memory region. Returns the queue.</p>
<p>Arguments:</p>
<ul>
  <li><code>queue</code> (optional): the <code>cl_command_queue</code> that unmaps the object. If omitted, <a href="uncomplicate.clojurecl.core.html#var-*command-queue*">*command-queue*</a> will be used.</li>
  <li><code>cl</code>: the <a href="uncomplicate.clojurecl.core.html#var-CLMem">CLMem</a> that is going to be unmapped.</li>
  <li><code>host</code>: the host byte buffer that is going to be unmapped.</li>
  <li><code>wait-events</code> (optional): <a href="uncomplicate.clojurecl.core.html#var-events">events</a> array specifying the events (if any) that need to complete before this operation.</li>
  <li><code>event</code> (optional): if specified, the <code>cl_event</code> object tied to the execution of this operation.</li>
</ul>
<p>If event is specified, the operation is asynchronous, otherwise it blocks the current thread until the data transfer completes. See also <a href="uncomplicate.clojurecl.core.html#var-register">register</a>.</p>
<p>See also <a href="uncomplicate.clojurecl.core.html#var-enq-map-buffer.21">enq-map-buffer!</a>.</p>
<p>See <a href="https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clEnqueueUnmapMemObject">https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clEnqueueUnmapMemObject</a>, <a href="http://www.jocl.org/doc/org/jocl/CL.html#clEnqueueUnmapMemObject-org.jocl.cl_command_queue-org.jocl.cl_mem-java.nio.ByteBuffer-int-org.jocl.cl_event:A-org.jocl.cl_event-">http://www.jocl.org/doc/org/jocl/CL.html#clEnqueueUnmapMemObject-org.jocl.cl_command_queue-org.jocl.cl_mem-java.nio.ByteBuffer-int-org.jocl.cl_event:A-org.jocl.cl_event-</a></p>
<p>Examples:</p>
<pre><code>(enq-unmap! queue cl-data byte-buff (events ev-nd) ev-map)
(enq-unmap! queue cl-data byte-buff ev-map)
(enq-unmap! queue cl-data byte-buff)
(enq-unmap! cl-data byte-buff)
</code></pre></div></div></div><div class="public anchor" id="var-enq-write.21"><h3>enq-write!</h3><div class="usage"><code>(enq-write! queue cl host blocking offset wait-events event)</code><code>(enq-write! queue cl host wait-events event)</code><code>(enq-write! queue cl host event)</code><code>(enq-write! queue cl host)</code><code>(enq-write! cl host)</code></div><div class="doc"><div class="markdown"><p>Enqueues a command to write to a cl object from host memory. Returns the queue.</p>
<p>Arguments:</p>
<ul>
  <li><code>queue</code> (optional): the <code>cl_command_queue</code> that writes the object. If omitted, <a href="uncomplicate.clojurecl.core.html#var-*command-queue*">*command-queue*</a> will be used.</li>
  <li><code>cl</code>: the <a href="uncomplicate.clojurecl.core.html#var-CLMem">CLMem</a> that is going to be written to.</li>
  <li><code>host</code>: <a href="uncomplicate.clojurecl.core.html#var-Mem">Mem</a> object on the host that the data is to be transferred from. Must be a direct buffer if the writing is asynchronous.</li>
  <li><code>blocking</code>: boolean indicator of synchronization.</li>
  <li><code>offset</code>: the offset in bytes in the buffer object to write to.</li>
  <li><code>wait-events</code> (optional): <a href="uncomplicate.clojurecl.core.html#var-events">events</a> array specifying the events (if any) that need to complete before this operation.</li>
  <li><code>event</code> (optional): if specified, the <code>cl_event</code> object tied to the execution of this operation.</li>
</ul>
<p>If event is specified, the operation is asynchronous, otherwise it blocks the current thread until the data transfer completes, unless explicitly specifiend with <code>blocking</code>. See also <a href="uncomplicate.clojurecl.core.html#var-register">register</a>.</p>
<p>See <a href="https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clEnqueueWriteBuffer.html">https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clEnqueueWriteBuffer.html</a>, <a href="http://www.jocl.org/doc/org/jocl/CL.html#clEnqueueWriteBuffer-org.jocl.cl_command_queue-org.jocl.cl_mem-boolean-long-long-org.jocl.Pointer-int-org.jocl.cl_event:A-org.jocl.cl_event-">http://www.jocl.org/doc/org/jocl/CL.html#clEnqueueWriteBuffer-org.jocl.cl_command_queue-org.jocl.cl_mem-boolean-long-long-org.jocl.Pointer-int-org.jocl.cl_event:A-org.jocl.cl_event-</a></p>
<p>Examples:</p>
<pre><code>(require '[uncomplicate.commons
           [utils :refer [direct-buffer]]]
         '[clojure.core.async :refer :all])
         
  (let [host-data (direct-buffer 32)
      ev (event)
      notifications (chan)
      follow (register notifications)]
  (enq-write! my-queue cl-data host-data ev) ;; asynchronous
  (follow ev)
  (&lt;!! notifications))

(enq-write! my-queu cl-data host-data) ;; blocking
</code></pre></div></div></div><div class="public anchor" id="var-event"><h3>event</h3><div class="usage"><code>(event)</code></div><div class="doc"><div class="markdown"><p>creates new <code>cl_event</code>.</p>
<p>see <a href="http://www.jocl.org/doc/org/jocl/cl_event.html">http://www.jocl.org/doc/org/jocl/cl_event.html</a>.</p></div></div></div><div class="public anchor" id="var-event-callback"><h3>event-callback</h3><div class="usage"><code>(event-callback ch)</code></div><div class="doc"><div class="markdown"><p>Creates new <code>EventCallbackFunction</code> instance that puts <a href="null">EventCallbackInfo</a> in the core.async channel when called.</p>
<p>See also <a href="uncomplicate.clojurecl.core.html#var-set-event-callback*">set-event-callback*</a> and <a href="uncomplicate.clojurecl.core.html#var-register">register</a></p></div></div></div><div class="public anchor" id="var-events"><h3>events</h3><div class="usage"><code>(events)</code><code>(events e)</code><code>(events e0 e1)</code><code>(events e0 e1 e2)</code><code>(events e0 e1 e2 e3)</code><code>(events e0 e1 e2 e3 e4)</code><code>(events e0 e1 e2 e3 e4 &amp; es)</code></div><div class="doc"><div class="markdown"><p>Creates an array of <code>cl_event</code>s. Arrays of events are used in enqueuing commands, not vectors or sequences.</p></div></div></div><div class="public anchor" id="var-finish.21"><h3>finish!</h3><div class="usage"><code>(finish! queue)</code><code>(finish!)</code></div><div class="doc"><div class="markdown"><p>Blocks until all previously queued OpenCL commands in a command-queue are issued to the associated device and have completed. Returns the queue. If called with no arguments, works on the default [<em>command-queue</em>]</p>
<p>See <a href="https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clFinish.html">https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clFinish.html</a>, <a href="http://www.jocl.org/doc/org/jocl/CL.html#clFinish-org.jocl.cl_command_queue-">http://www.jocl.org/doc/org/jocl/CL.html#clFinish-org.jocl.cl_command_queue-</a></p>
<p>Example:</p>
<pre><code>(finish! my-queue)
</code></pre></div></div></div><div class="public anchor" id="var-flush.21"><h3>flush!</h3><div class="usage"><code>(flush! queue)</code></div><div class="doc"><div class="markdown"><p>Issues all previously queued OpenCL commands in a command-queue to the device associated with the command-queue.</p>
<p>See <a href="https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clFlush.html">https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clFlush.html</a>, <a href="http://www.jocl.org/doc/org/jocl/CL.html#clFinish-org.jocl.cl_command_queue-">http://www.jocl.org/doc/org/jocl/CL.html#clFinish-org.jocl.cl_command_queue-</a></p>
<p>Example:</p>
<pre><code>(flush! my-queue)
</code></pre></div></div></div><div class="public anchor" id="var-host-event"><h3>host-event</h3><div class="usage"><code>(host-event)</code><code>(host-event ctx)</code></div><div class="doc"><div class="markdown"><p>Creates new <code>cl_event</code> on the host (in OpenCL terminology, known as “user” event.</p>
<p>If called without <code>ctx</code> argument, uses <a href="uncomplicate.clojurecl.core.html#var-*context*">*context*</a>.</p>
<p>If <code>ctx</code> is <code>nil</code>, throws ExceptionInfo</p>
<p>See <a href="https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clCreateUserEvent.html">https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clCreateUserEvent.html</a>, <a href="http://www.jocl.org/doc/org/jocl/CL.html#clCreateUserEvent-org.jocl.cl_context-int:A-">http://www.jocl.org/doc/org/jocl/CL.html#clCreateUserEvent-org.jocl.cl_context-int:A-</a></p></div></div></div><div class="public anchor" id="var-kernel"><h3>kernel</h3><div class="usage"><code>(kernel program name)</code><code>(kernel program)</code></div><div class="doc"><div class="markdown"><p>Creates <code>cl_kernel</code> objects for the kernel function specified by <code>name</code>, or, if the name is not specified, all kernel functions in a <code>program</code>.</p>
<p><strong>Needs to be released after use.</strong></p>
<p>In case of OpenCL errors during the program build, throws <code>Exceptioninfo</code>.</p>
<p>See <a href="https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clCreateKernel.html">https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clCreateKernel.html</a>, <a href="https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clCreateKernelsInProgram.html">https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clCreateKernelsInProgram.html</a>, <a href="http://www.jocl.org/doc/org/jocl/CL.html#clCreateKernel-org.jocl.cl_program-java.lang.String-int:A-">http://www.jocl.org/doc/org/jocl/CL.html#clCreateKernel-org.jocl.cl_program-java.lang.String-int:A-</a> <a href="http://www.jocl.org/doc/org/jocl/CL.html#clCreateKernelsInProgram-org.jocl.cl_program-int-org.jocl.cl_kernel:A-int:A-">http://www.jocl.org/doc/org/jocl/CL.html#clCreateKernelsInProgram-org.jocl.cl_program-int-org.jocl.cl_kernel:A-int:A-</a> Examples:</p>
<pre><code>(kernel program "dumb_kernel") ; `cl_kernel` object
(kernel program) ; all kernels in a vector
</code></pre></div></div></div><div class="public anchor" id="var-legacy.3F"><h3>legacy?</h3><div class="usage"><code>(legacy? platform)</code></div><div class="doc"><div class="markdown"><p>Checks whether the platform is ‘legacy’, less than OpenCL 2.0, or any future version that is necessary for building ClojureCL.</p></div></div></div><div class="public anchor" id="var-Mem"><h3>Mem</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>An object that represents memory that participates in OpenCL operations. It can be on the device (<a href="uncomplicate.clojurecl.core.html#var-CLMem">CLMem</a>), or on the host. Built-in implementations: cl buffer, Java primitive arrays and <code>ByteBuffer</code>s.</p></div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-ptr"><h3>ptr</h3><div class="usage"><code>(ptr this)</code></div><div class="doc"><div class="markdown"><p>JOCL <code>Pointer</code> to this object.</p></div></div></div><div class="public anchor" id="var-size"><h3>size</h3><div class="usage"><code>(size this)</code></div><div class="doc"><div class="markdown"><p>Memory size of this cl or host object in bytes.</p></div></div></div></div></div></div><div class="public anchor" id="var-native-pointer"><h3>native-pointer</h3><div class="usage"><code>(native-pointer npo)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-num-devices"><h3>num-devices</h3><div class="usage"><code>(num-devices platform device-type &amp; device-types)</code><code>(num-devices platform device-type)</code><code>(num-devices x)</code><code>(num-devices)</code></div><div class="doc"><div class="markdown"><p>Queries <code>platform</code> for the number of devices of one or a combination of several <code>device-type</code>s: <code>:gpu</code>, <code>:cpu</code>, <code>:all</code>, <code>:accelerator</code>, <code>:custom</code>, <code>:default</code>.</p>
<p>When called with only one argument <code>x</code>:</p>
<ul>
  <li>if <code>x</code> is a keyword, returns the number of devices of type <code>x</code> in <code>*platform*</code>;</li>
  <li>otherwise returns the number of all devices on the platform <code>x</code>.</li>
</ul>
<p>When called with no arguments, returns the number of all devices in <code>*platform*</code>.</p>
<p>When called with an invalid platform, throws <a href="http://clojuredocs.org/clojure.core/ex-info">ExceptionInfo</a>. When called with an unknown device type, throws <code>NullPointerException</code></p>
<p>See also <a href="uncomplicate.clojurecl.core.html#var-num-devices*">num-devices*</a>.</p>
<p>Examples:</p>
<pre><code>(num-devices)
(num-devices (first (platforms)))
(num-devices :gpu)
(num-devices (first (platforms)) :gpu :cpu :accelerator)
</code></pre></div></div></div><div class="public anchor" id="var-num-devices*"><h3>num-devices*</h3><div class="usage"><code>(num-devices* platform device-type)</code></div><div class="doc"><div class="markdown"><p>Queries <code>platform</code> for the number of devices of <code>device-type</code>s. Device types are given as a bitfield, where each type is defined in the OpenCL standard. Available device types are accessible through <code>org.jocl.CL/CL_DEVICE_TYPE_X</code> constants. If there are no such devices, returns 0.</p>
<p>NOTE: You should prefer a higher-level <a href="uncomplicate.clojurecl.core.html#var-num-devices">num-devices</a> function, unless you code.</p>
<p>When called with an invalid platform, throws <a href="http://clojuredocs.org/clojure.core/ex-info">ExceptionInfo</a>.</p>
<p>See <a href="http://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clGetDeviceIDs.html">http://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clGetDeviceIDs.html</a> and <a href="http://www.jocl.org/doc/org/jocl/CL.html#clGetDeviceIDs-int-org.jocl.cl_device_id:A-int:A-">http://www.jocl.org/doc/org/jocl/CL.html#clGetDeviceIDs-int-org.jocl.cl_device_id:A-int:A-</a></p></div></div></div><div class="public anchor" id="var-num-kernels"><h3>num-kernels</h3><div class="usage"><code>(num-kernels program)</code></div><div class="doc"><div class="markdown"><p>Returns the number of kernels in <code>program</code> (<code>cl_program</code>).</p></div></div></div><div class="public anchor" id="var-num-platforms"><h3>num-platforms</h3><div class="usage"><code>(num-platforms)</code></div><div class="doc"><div class="markdown"><p>The number of available OpenCL platforms.</p>
<p>See <a href="http://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clGetPlatformIDs.html">http://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clGetPlatformIDs.html</a> and <a href="http://www.jocl.org/doc/org/jocl/CL.html#clGetPlatformIDs-int-org.jocl.cl_platform_id:A-int:A-">http://www.jocl.org/doc/org/jocl/CL.html#clGetPlatformIDs-int-org.jocl.cl_platform_id:A-int:A-</a></p></div></div></div><div class="public anchor" id="var-platform-info"><h3>platform-info</h3><div class="usage"><code>(platform-info)</code></div><div class="doc"><div class="markdown"><p>Gets the <a href="null">info/info</a> of the default platform <a href="uncomplicate.clojurecl.core.html#var-*platform*">*platform*</a> (if it is bound). If <a href="uncomplicate.clojurecl.core.html#var-*platform*">*platform*</a> is unbound, throws <code>Illegalargumentexception</code>.</p></div></div></div><div class="public anchor" id="var-platforms"><h3>platforms</h3><div class="usage"><code>(platforms)</code></div><div class="doc"><div class="markdown"><p>Returns a vector of all available OpenCL platforms (<code>cl_platform_id</code>s). <code>cl_platform_id</code> objects do not need to be released explicitly.</p>
<p>Platforms are represented by the <a href="http://www.jocl.org/doc/org/jocl/cl_platform_id.html"><code>org.jocl.platform_id</code></a> datastructure.</p>
<p>See <a href="http://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clGetPlatformIDs.html">http://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clGetPlatformIDs.html</a> and <a href="http://www.jocl.org/doc/org/jocl/CL.html#clGetPlatformIDs-int-org.jocl.cl_platform_id:A-int:A-">http://www.jocl.org/doc/org/jocl/CL.html#clGetPlatformIDs-int-org.jocl.cl_platform_id:A-int:A-</a></p></div></div></div><div class="public anchor" id="var-program-with-source"><h3>program-with-source</h3><div class="usage"><code>(program-with-source ctx source)</code><code>(program-with-source source)</code></div><div class="doc"><div class="markdown"><p>Creates a <code>cl_program</code> for the context and loads the source code specified by the text strings given in the <code>source</code> sequence. When called with one argument, uses <a href="uncomplicate.clojurecl.core.html#var-*context*">*context*</a>.</p>
<p>In case of OpenCL errors during the program creation, throws <code>Exceptioninfo</code>.</p>
<p><strong>Needs to be released after use.</strong></p>
<p>See also <a href="uncomplicate.clojurecl.core.html#var-build-program.21">build-program!</a></p>
<p>See <a href="https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clCreateProgramWithSource.html">https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clCreateProgramWithSource.html</a>, <a href="http://www.jocl.org/doc/org/jocl/CL.html#clCreateProgramWithSource-org.jocl.cl_context-int-java.lang.String:A-long:A-int:A-">http://www.jocl.org/doc/org/jocl/CL.html#clCreateProgramWithSource-org.jocl.cl_context-int-java.lang.String:A-long:A-int:A-</a></p>
<p>Example:</p>
<pre><code>(def source (slurp "path-to-kernels/my_kernel.cl"))
(program-with-source ctx [source])
</code></pre></div></div></div><div class="public anchor" id="var-register"><h3>register</h3><div class="usage"><code>(register channel callback-type)</code><code>(register channel)</code></div><div class="doc"><div class="markdown"><p>Creates a convenience function that registers callbacks for events. It is a high-level alternative to <a href="uncomplicate.clojurecl.core.html#var-set-event-callback*">set-event-callback*</a>. MUST be called AFTER the event is used in the enqueue operation.</p>
<ul>
  <li><code>channel</code> is a channel for communicating asynchronous notifications</li>
  <li><code>callback-type</code> is an optional keyword that specifies the command execution status that will be the default for the resulting function: <code>:complete</code>, <code>:submitted</code>, or <code>running</code>.</li>
</ul>
<p>Returns a function with the following arguments:</p>
<ul>
  <li><code>e</code> - user event that is being followed</li>
  <li><code>callback-type</code> - optional command execution status; if ommited, the default is used</li>
  <li><code>data</code> - optional notification data</li>
</ul>
<p>When called, the created function returns <code>channel</code> with registered callback.</p>
<p>See <a href="uncomplicate.clojurecl.core.html#var-event-callback">event-callback</a>, <a href="uncomplicate.clojurecl.core.html#var-set-event-callback*">set-event-callback*</a>, <a href="uncomplicate.clojurecl.core.html#var-event">event</a>. See <a href="https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clSetEventCallback.html">https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clSetEventCallback.html</a>, <a href="http://www.jocl.org/doc/org/jocl/CL.html#clSetEventCallback-org.jocl.cl_event-int-org.jocl.EventCallbackFunction-java.lang.Object-">http://www.jocl.org/doc/org/jocl/CL.html#clSetEventCallback-org.jocl.cl_event-int-org.jocl.EventCallbackFunction-java.lang.Object-</a></p>
<p>Example:</p>
<pre><code>(def notifications (chan))
(def follow (register notifications))
(def e (event))
(enq-read! comm-queue cl-object host-object e
(follow e)
(:event (&lt;!! notifications))
</code></pre></div></div></div><div class="public anchor" id="var-set-arg.21"><h3>set-arg!</h3><div class="usage"><code>(set-arg! kernel n value)</code></div><div class="doc"><div class="markdown"><p>Sets the argument value for a specific positional argument of a kernel. Returns the changed <code>cl_kernel</code> object. <code>value</code> should implement <a href="uncomplicate.clojurecl.core.html#var-Argument">Argument</a> protocol.</p>
<p>The arguement can be a <a href="uncomplicate.clojurecl.core.html#var-Mem">Mem</a> (<a href="null">CLBuffer</a>, <a href="null">CLImage</a>, Java primitive arrays), or a number. In the case of <a href="uncomplicate.clojurecl.core.html#var-Mem">Mem</a> objects, the memory object will be set as an argument. In the case the argument is a number, its long value will be used as a size of the local memory to be allocated on the device.</p>
<p>In case of OpenCL errors during the program build, throws <code>Exceptioninfo</code>. if <code>value</code> is of the type that is not supported, throws <code>IllegalArgumentexception</code>.</p>
<p>See <a href="uncomplicate.clojurecl.core.html#var-kernel">kernel</a>, <a href="null">program</a>, <a href="uncomplicate.clojurecl.core.html#var-Argument">Argument</a>, <a href="uncomplicate.clojurecl.core.html#var-cl-buffer">cl-buffer</a>.</p>
<p>See <a href="https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clSetKernelArg.html">https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clSetKernelArg.html</a>, <a href="http://www.jocl.org/doc/org/jocl/CL.html#clSetKernelArg-org.jocl.cl_kernel-int-long-org.jocl.Pointer-">http://www.jocl.org/doc/org/jocl/CL.html#clSetKernelArg-org.jocl.cl_kernel-int-long-org.jocl.Pointer-</a></p>
<p>Examples:</p>
<pre><code>(set-arg! my-kernel 0 cl-buffer0)
(set-arg! my-kernel 1 cl-buffer1)
(set-arg! my-kernel 2 (int-array 8))
(set-arg! my-kernel 3 42)
</code></pre></div></div></div><div class="public anchor" id="var-set-args.21"><h3>set-args!</h3><div class="usage"><code>(set-args! kernel x &amp; values)</code></div><div class="doc"><div class="markdown"><p>Sets all provided arguments of <code>kernel</code>, starting from optional index <code>x</code>, and returns the changed <code>cl_kernel</code> object. Equivalent to calling <a href="uncomplicate.clojurecl.core.html#var-set-arg.21">set-arg!</a> for each provided argument.</p>
<p>Examples:n</p>
<pre><code>(set-args! my-kernel cl-buffer-0)
(set-args! my-kernel cl-buffer-0 cl-buffer-1 (int-array 8) 42)
(set-args! my-kernel 2 cl-buffer-2 cl-buffer-3 (int-array 8) 42)
</code></pre></div></div></div><div class="public anchor" id="var-set-event-callback*"><h3>set-event-callback*</h3><div class="usage"><code>(set-event-callback* e callback callback-type data)</code><code>(set-event-callback* e callback)</code></div><div class="doc"><div class="markdown"><p>Registers a callback function for an event and a specific command execution status. Returns the channel. MUST be called AFTER the event is used in the enqueue operation.</p>
<p>If called without <code>callback-type</code> and <code>data</code>, registers <a href="http://www.jocl.org/doc/org/jocl/CL.html#CL_COMPLETE"><code>CL/CL_COMPLETE</code></a> status.</p>
<p>See <a href="uncomplicate.clojurecl.core.html#var-event-callback">event-callback</a>, <a href="uncomplicate.clojurecl.core.html#var-register">register</a>, <a href="uncomplicate.clojurecl.core.html#var-event">event</a>. See <a href="https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clSetEventCallback.html">https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clSetEventCallback.html</a>, <a href="http://www.jocl.org/doc/org/jocl/CL.html#clSetEventCallback-org.jocl.cl_event-int-org.jocl.EventCallbackFunction-java.lang.Object-">http://www.jocl.org/doc/org/jocl/CL.html#clSetEventCallback-org.jocl.cl_event-int-org.jocl.EventCallbackFunction-java.lang.Object-</a></p>
<p>Example:</p>
<pre><code>(set-event-callback* (user-event) (event-callback) CL/CL_COMPLETE :my-data)
(set-event-callback* (user-event) (event-callback))
</code></pre></div></div></div><div class="public anchor" id="var-set-status.21"><h3>set-status!</h3><div class="usage"><code>(set-status! ev status)</code><code>(set-status! ev)</code></div><div class="doc"><div class="markdown"><p>Sets the status of a host event to indicate whether it is complete or there is an error (a negative value). It can be called only once to change the status. If called with only the first argument, sets the status to <code>CL/CL_COMPLETE</code>. Returns the event.</p>
<p>See <a href="https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clSetUsereventstatus.html">https://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clSetUsereventstatus.html</a>, <a href="http://www.jocl.org/doc/org/jocl/CL.html#clSetUserEventStatus-org.jocl.cl_event-int-">http://www.jocl.org/doc/org/jocl/CL.html#clSetUserEventStatus-org.jocl.cl_event-int-</a></p>
<p>Examples:</p>
<pre><code>(set-status! ev) ;; event's status will be CL_COMPLETE
(set-status! ev -12) ;; indicates and error code -12
</code></pre></div></div></div><div class="public anchor" id="var-sort-by-cl-version"><h3>sort-by-cl-version</h3><div class="usage"><code>(sort-by-cl-version devs)</code></div><div class="doc"><div class="markdown"><p>Sorts a given sequence of devices by the OpenCL version they support. The devices with hihger versions come first. If some devices support the same version their order is not changed.</p></div></div></div><div class="public anchor" id="var-svm-buffer"><h3>svm-buffer</h3><div class="usage"><code>(svm-buffer ctx size alignment &amp; flags)</code><code>(svm-buffer size flag)</code><code>(svm-buffer size)</code></div><div class="doc"><div class="markdown"><p>Creates a svm buffer object (<a href="null">SVMBuffer</a>) in <code>ctx</code>, given <code>size</code> and <code>alignment</code> in bytes and one or more memory allocation usage keyword flags: <code>:read-write</code>, <code>:read-only</code>, <code>:write-only</code>, :fine-grain-buffer, and/or :atomics</p>
<p>If called with two arguments, uses the default alignment (platform dependent) and default <code>*context*</code> (see <a href="uncomplicate.clojurecl.core.html#var-with-context">with-context</a>). If called with one argument, use the default context, and alignment,and :read-write flag.</p>
<p><strong>Needs to be released after use.</strong> If you rely on the <a href="null">release</a> method, be sure that all enqueued processing that uses this buffer finishes prior to that (watch out for non-blocking enqueues!).</p>
<p>If <code>ctx</code> is nil or the buffer size is invalid, throws <code>IllegalArgumentException</code>. If some of the flags is invalid, throws <code>NullPointerException</code>.</p>
<p>See <a href="http://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clSVMAlloc.html">http://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clSVMAlloc.html</a>, <a href="http://www.jocl.org/doc/org/jocl/CL.html#clSVMAlloc-org.jocl.cl_context-long-long-int-">http://www.jocl.org/doc/org/jocl/CL.html#clSVMAlloc-org.jocl.cl_context-long-long-int-</a></p>
<p>Examples:</p>
<pre><code>(svm-buffer 32 :read-only)
(svm-buffer ctx 24 0 :fine-grain-buffer :atomics)
</code></pre></div></div></div><div class="public anchor" id="var-svm-buffer*"><h3>svm-buffer*</h3><div class="usage"><code>(svm-buffer* ctx size flags alignment)</code></div><div class="doc"><div class="markdown"><p>Creates a svm buffer object in <code>ctx</code>, given <code>size</code> in bytes, bitfield <code>flags</code> describing memory allocation usage, and alignment size.</p>
<p>Flags defined by the OpenCL standard are available as constants in the <a href="http://www.jocl.org/doc/org/jocl/CL.html">org.jocl.CL</a> class.</p>
<p><strong>Needs to be released after use.</strong></p>
<p>This is a low-level alternative to <a href="null">svm-buffer!</a> If <code>ctx</code> is nil or the buffer size is invalid, throws <code>IllegalArgumentException</code>.</p>
<p>See <a href="http://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clSVMAlloc.html">http://www.khronos.org/registry/cl/sdk/2.0/docs/man/xhtml/clSVMAlloc.html</a>, <a href="http://www.jocl.org/doc/org/jocl/CL.html#clSVMAlloc-org.jocl.cl_context-long-long-int-">http://www.jocl.org/doc/org/jocl/CL.html#clSVMAlloc-org.jocl.cl_context-long-long-int-</a></p>
<p>Example:</p>
<pre><code>(svm-buffer* ctx 24 (bit-or CL/CL_MEM_SVM_FINE_GRAIN_BUFFER CL/CL_MEM_SVM_ATOMICS) 0)
</code></pre></div></div></div><div class="public anchor" id="var-svm-buffer.3F"><h3>svm-buffer?</h3><div class="usage"><code>(svm-buffer? x)</code></div><div class="doc"><div class="markdown"><p>Checks whether an object is an SVM buffer.</p></div></div></div><div class="public anchor" id="var-SVMMem"><h3>SVMMem</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>A wrapper for SVM Buffer objects, that also holds a context that created it, <code>Pointer</code>, size in bytes, and can create a <code>ByteBuffer</code>. It is useful in many functions that need that (redundant in Java) data because of the C background of OpenCL functions.</p></div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-byte-buffer"><h3>byte-buffer</h3><div class="usage"><code>(byte-buffer this)</code><code>(byte-buffer this offset size)</code></div><div class="doc"><div class="markdown"><p>Creates a Java <code>ByteBuffer</code> for this SVM memory.</p></div></div></div><div class="public anchor" id="var-enq-svm-copy"><h3>enq-svm-copy</h3><div class="usage"><code>(enq-svm-copy this)</code></div><div class="doc"><div class="markdown"></div></div></div></div></div></div><div class="public anchor" id="var-with-context"><h3>with-context</h3><h4 class="type">macro</h4><div class="usage"><code>(with-context context &amp; body)</code></div><div class="doc"><div class="markdown"><p>Dynamically binds <code>context</code> to the default context <a href="uncomplicate.clojurecl.core.html#var-*context*">*context*</a>. and evaluates the body with that binding. Releases the context in the <code>finally</code> block. Take care <em>not</em> to release that context in some other place; JVM might crash.</p>
<p>Example:</p>
<pre><code>(with-context (context devices)
    (context-info))
</code></pre></div></div></div><div class="public anchor" id="var-with-default"><h3>with-default</h3><h4 class="type">macro</h4><div class="usage"><code>(with-default &amp; body)</code></div><div class="doc"><div class="markdown"><p>Dynamically binds <a href="uncomplicate.clojurecl.core.html#var-*platform*">*platform*</a>, <a href="uncomplicate.clojurecl.core.html#var-*context*">*context*</a> and <a href="uncomplicate.clojurecl.core.html#var-*command-queue*">*command-queue*</a> to the first of the available platforms, the context containing the first device of that platform that supports the highest OpenCL version, and the queue on the device in that context. Requires OpenCL 2.0 support in the platform. If you’re using OpenCL 1.2 or lower, use <a href="uncomplicate.clojurecl.legacy.html#var-with-default-1">legacy/with-default-1</a></p></div></div></div><div class="public anchor" id="var-with-platform"><h3>with-platform</h3><h4 class="type">macro</h4><div class="usage"><code>(with-platform platform &amp; body)</code></div><div class="doc"><div class="markdown"><p>Dynamically binds <code>platform</code> to the default platform <a href="uncomplicate.clojurecl.core.html#var-*platform*">*platform*</a> and evaluates the body with that binding.</p></div></div></div><div class="public anchor" id="var-with-queue"><h3>with-queue</h3><h4 class="type">macro</h4><div class="usage"><code>(with-queue queue &amp; body)</code></div><div class="doc"><div class="markdown"><p>Dynamically binds <code>queue</code> to the default queue <a href="uncomplicate.clojurecl.core.html#var-*command-queue*">*command-queue*</a>. and evaluates the body with that binding. Releases the queue in the <code>finally</code> block. Take care <em>not</em> to release that queue in some other place; JVM might crash.</p>
<p>Example:</p>
<pre><code>(with-queue (command-queue dev)
  (enq-read cl-data data))
</code></pre></div></div></div><div class="public anchor" id="var-work-size"><h3>work-size</h3><div class="usage"><code>(work-size global local offset)</code><code>(work-size global local)</code><code>(work-size global)</code><code>(work-size)</code></div><div class="doc"><div class="markdown"><p>Creates a <a href="null">WorkSize</a> record, that sets global, local and offset parameters in enqueuing ND kernels. All arguments are sequences, holding as many arguments, as there are dimensions in the appropriate ND kernel. In OpenCL 2.0, it is usually 1, 2, or 3, depending on the device.</p>
<p>See <a href="uncomplicate.clojurecl.core.html#var-enq-nd.21">enq-nd!</a> Examples:</p>
<pre><code>(work-size [102400 25600] [1024 128] [4 8])
(work-size [1024 256] [16 16])
(work-size [256])
(work-size) ; same as (work-size [1])
</code></pre></div></div></div><div class="public anchor" id="var-work-size-1d"><h3>work-size-1d</h3><div class="usage"><code>(work-size-1d global local offset)</code><code>(work-size-1d global local)</code><code>(work-size-1d global)</code><code>(work-size-1d)</code></div><div class="doc"><div class="markdown"><p>Creates a 1-dimensional <a href="null">WorkSize</a> from the long numbers it receives. See also <a href="uncomplicate.clojurecl.core.html#var-work-size">work-size</a>.</p>
<p>Examples: (work-size-1d 1024) (work-size-1d 1024 256) (work-size-1d 1024 256 1)</p></div></div></div><div class="public anchor" id="var-work-size-2d"><h3>work-size-2d</h3><div class="usage"><code>(work-size-2d global0 global1 local0 local1 offset0 offset1)</code><code>(work-size-2d global0 global1 local0 local1)</code><code>(work-size-2d global0 global1)</code><code>(work-size-2d)</code></div><div class="doc"><div class="markdown"><p>Creates a 2-dimensional <a href="null">WorkSize</a> from the long numbers it receives. See also <a href="uncomplicate.clojurecl.core.html#var-work-size">work-size</a>.</p>
<p>Examples: (work-size-2d 1024 2048) (work-size-2d 1024 2048 16 16) (work-size-2d 1024 2048 16 16 8 0 2)</p></div></div></div><div class="public anchor" id="var-work-size-3d"><h3>work-size-3d</h3><div class="usage"><code>(work-size-3d global0 global1 global2 local0 local1 local2 offset0 offset1 offset2)</code><code>(work-size-3d global0 global1 global2 local0 local1 local2)</code><code>(work-size-3d global0 global1 global2)</code><code>(work-size-3d)</code></div><div class="doc"><div class="markdown"><p>Creates a 3-dimensional <a href="null">WorkSize</a> from the long numbers it receives. See also <a href="uncomplicate.clojurecl.core.html#var-work-size">work-size</a>.</p>
<p>Examples: (work-size-3d 1024 2048 512) (work-size-3d 1024 2048 256 16 16) (work-size-3d 1024 2048 128 16 4 4 16 0 2 512)</p></div></div></div></div></body></html>
